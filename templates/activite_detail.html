<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails de l'activité</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='activite_detail.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    {% include 'navbar.html' %}
    <div class="main-container">
        <div class="containeractivity">
            <h1 class="titreactivite">{{ activite.Nom_Activite }}</h1>
            <div class="activite-detail-container">
                {% if activite.Image %}
                <img src="/{{ activite.Image }}" class="card-img-top" alt="Activité Image">
                {% else %}
                <p>Aucune image disponible</p>
                {% endif %}
                <div class="descprice">
                    <!-- Section pour les messages flash -->
                    {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                    <div class="flash-messages">
                        {% for category, message in messages %}
                        <p class="flash-{{ category }}">{{ message }}</p>
                        {% endfor %}
                    </div>
                    {% endif %}
                    {% endwith %}

                    <p><strong>Description:</strong> {{ activite.description }}</p>
                    <br>
                    <p><strong>Prix:</strong> {{ activite.prix }} EUR</p>
                    <p><strong>Nombre de places disponibles:</strong> {{ activite.NOMBRE_PLACES_DISPONIBLE }}</p>
                    <form action="{{ url_for('inscription_activite', activite_id=activite.Code_Activite) }}" method="post">
                        <div align="center">
                            <label for="horaire_id">Sélectionnez un horaire :</label>
                            <select name="horaire_id" id="horaire_id" required>
                                {% for item in horaire %}
                                <option value="{{ item.ID_HORAIRE }}">
                                    {{ item.date_of_activity }} - {{ item.start_hour }} à {{ item.end_hour }}
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                        <button type="submit" class="styled-button">S'inscrire</button>
                    </form>
                </div>
            </div>
        </div>
        <div align="center" style="margin-top: 20px">
            <a href="{{ url_for('afficher_activites') }}">Retour à la liste des activités</a>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YlwNpdvnI6zshI/htZ3/Xf6U5/HbZacpXh/KDni3VhtKsEnRo5p2kP1SU5IcTwNN" crossorigin="anonymous"></script>
</body>
</html>
