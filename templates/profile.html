<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Profile Page</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='profile.css') }}"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    {% include 'navbar.html' %}

    <div class="container mt-4">
      <h1>Bonjour {{ prenom }} {{ nom }}</h1>
      <h2>Activités Inscrites :</h2>
      <ul class="list-unstyled">
        {% for activite in activites_inscrites %}
        <li class="mb-4 text-center">
          <h3>{{ activite[0] }}</h3>
          <div class="activity-image-container mb-3">
            <img
              src="{{ activite[1] }}"
              alt="Image de {{ activite[0] }}"
              class="activity-image"
            />
          </div>
          <p>Date: {{ activite[3] }}</p>
          <p>Heure de début: {{ activite[4] }}</p>
          <p>Heure de fin: {{ activite[5] }}</p>
          <form
            method="POST"
            action="{{ url_for('annuler_inscription') }}"
            class="d-inline-block"
          >
            <input
              type="hidden"
              name="code_activite"
              value="{{ activite[2] }}"
            />
            <input type="hidden" name="id_horaire" value="{{ activite[6] }}" />
            <button type="submit" class="btn btn-danger">
              Annuler Inscription
            </button>
          </form>
        </li>
        {% endfor %}
      </ul>

      <h1>Update Profile</h1>
      <form method="POST" action="/update_profile">
        <input
          type="hidden"
          name="nom_utilisateur"
          value="{{ nom_utilisateur }}"
        />

        <div class="mb-3">
          <label for="prenom" class="form-label">First Name:</label>
          <input
            type="text"
            class="form-control"
            id="prenom"
            name="prenom"
            value="{{ prenom }}"
            required
          />
        </div>

        <div class="mb-3">
          <label for="nom" class="form-label">Last Name:</label>
          <input
            type="text"
            class="form-control"
            id="nom"
            name="nom"
            value="{{ nom }}"
            required
          />
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">Email:</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            value="{{ email }}"
            required
          />
        </div>

        <div class="mb-3">
          <label for="telephone" class="form-label">Phone:</label>
          <input
            type="text"
            class="form-control"
            id="telephone"
            name="telephone"
            value="{{ telephone }}"
            required
          />
        </div>

        <div class="mb-3">
          <label for="adresse" class="form-label">Address:</label>
          <input
            type="text"
            class="form-control"
            id="adresse"
            name="adresse"
            value="{{ adresse }}"
            required
          />
        </div>

        <button type="submit" class="btn btn-primary">Update Profile</button>
        <form method="POST" action="/delete_profile" class="d-inline">
          <button type="submit" class="btn btn-danger">Delete Profile</button>
        </form>
      </form>
    </div>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
